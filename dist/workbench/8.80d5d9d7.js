(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{281:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=E(r(2)),n=E(r(37)),i=E(r(5)),o=E(r(10)),u=E(r(4)),l=E(r(6)),s=E(r(317));r(334);var c=r(1),d=E(c),p=(r(62),r(42)),f=(E(r(0)),r(306)),h=E(r(294)),g=E(r(132));r(519);var m=E(r(375)),v=r(299),y=r(367),k=r(506),b=r(505),C=E(r(504)),x=E(r(490)),_=E(r(484));function E(e){return e&&e.__esModule?e:{default:e}}var w=s.default.Header,I=s.default.Content;function D(e,t){var r=void 0;return h.default.forEach(e,function(e,a){if(e.pk_app_group===t)return r=a,!1}),r}var N=function(e){function t(e){(0,i.default)(this,t);var r=(0,u.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e));return r.state={selectCardIDList:[],moveModal:{selectedValue:1},currEditID:"",layout:{containerWidth:1200,containerHeight:300,calWidth:175,rowHeight:175,col:6,margin:[10,10],containerPadding:[0,0]},defaultLayout:{containerWidth:1200,containerHeight:300,calWidth:175,rowHeight:175,col:6,margin:[10,10],containerPadding:[0,0]}},r}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentWillMount",value:function(){}},{key:"componentDidMount",value:function(){var e=this;(0,g.default)({url:"/nccloud/platform/appregister/queryapp.do",data:{cuserid:"0001Z5100000000396E0"},success:function(t){if(t){var r=t.data,a=r.data,n=r.success;n&&a&&a.length>0&&(h.default.forEach(a,function(e){e.type="group"}),e.setState({groups:a}))}}})}},{key:"deleteCard",value:function(e){var t=this.state,r=t.groups,a=t.selectCardIDList;h.default.forEach(r,function(t,r){h.default.remove(t.apps,function(t){return t.pk_appregister===e})}),h.default.remove(a,function(t){return t===e}),this.setState({groups:r,selectCardIDList:a})}},{key:"calColWidth",value:function(){var e=this.state.layout,t=e.containerWidth,r=e.col,a=e.containerPadding,n=e.margin;return n?(t-2*a[0]-n[0]*(r+1))/r:(t-2*a[0]-0*(r+1))/r}},{key:"calColNum",value:function(){var e=this.state.layout;e.containerWidth,e.col,e.containerPadding,e.margin}},{key:"calGridXY",value:function(e,t,r){var a=this.state.layout,n=a.margin,i=a.containerWidth,o=a.col,u=a.rowHeight,l=Math.floor(e/i*o),s=Math.floor(t/(u+(n?n[1]:0)));return(0,b.checkInContainer)(l,s,o,r)}},{key:"moveCardInGroupItem",value:function(e,t,r,n){var i=this.state.groups,o=void 0,u=[];h.default.forEach(i,function(r,a){r.pk_app_group===t.id&&(o=a);var n=h.default.remove(r.apps,function(t){return t.pk_appregister===e.id});u=h.default.concat(u,n)});var l=void 0;l=0===u.length?{pk_appregister:e.id,height:2,width:2,name:e.id}:u[0];var s=this.calGridXY(r,n,l.width),c=s.GridX,d=s.GridY;l=(0,a.default)({},l,{gridx:c,gridy:d}),i[o].apps.push(l);var p=(0,y.layoutCheck)(i[o].apps,l,l.pk_appregister,l.pk_appregister),f=(0,k.compactLayout)(p,l);i[o].apps=f,this.setState({groups:i})}},{key:"dropCardToGroupItem",value:function(e,t,r,a){}},{key:"onCheckboxChange",value:function(e,t){var r=this.state.selectCardIDList;e?r.push(t):h.default.remove(r,function(e){return e===t}),this.setState({selectCardIDList:r})}},{key:"editGroupItemName",value:function(e){this.setState({currEditID:e})}},{key:"getAddedGroupItemCount",value:function(){var e=0;return h.default.forEach(this.state.groups,function(t){-1!==t.pk_app_group.indexOf("newGroupItem")&&e++}),e}},{key:"addGroupItem",value:function(e){var t=this.state.groups,r=void 0;h.default.forEach(t,function(t,a){if(t.pk_app_group===e)return r=a,!1});var a={pk_app_group:"newGroupItem"+(new Date).getTime(),groupname:"分组("+(this.getAddedGroupItemCount()+1)+")",type:"group",apps:[]};t.splice(r+1,0,a),this.setState({groups:t})}},{key:"deleteGroupItem",value:function(e){var t=this.state.groups;t.length<=1||(h.default.remove(t,function(t){return t.pk_app_group===e}),this.setState({groups:t}))}},{key:"upGroupItem",value:function(e){var t=this.state.groups,r=D(t,e);if(0!==r){var a=t[r-1];t[r-1]=t[r],t[r]=a,this.setState({groups:t})}}},{key:"downGroupItem",value:function(e){var t=this.state.groups,r=D(t,e);if(r!==t.length-1){var a=t[r+1];t[r+1]=t[r],t[r]=a,this.setState({groups:t})}}},{key:"changeGroupName",value:function(e,t){var r=this.state.groups;h.default.forEach(r,function(r,a){if(r.pk_app_group===e)return r.groupname=t,!1}),this.setState({groups:r,currEditID:""})}},{key:"cancelGroupName",value:function(){this.setState({currEditID:""})}},{key:"moveGroupItem",value:function(e,t){var r=this.state.groups,a=r[e];r.splice(e,1),r.splice(t,0,a),this.setState({groups:r})}},{key:"onDrop",value:function(e,t){if(e.type!==t.type){for(var r=this.state.groups,a=void 0,n=void 0,i=void 0,o=void 0,u=0,l=r.length;u<l;u++){r[u].pk_app_group===t.id&&(n=u);for(var s=0,c=r[u].apps.length;s<c;s++){var d=r[u].apps;d[s].pk_appregister===e.id&&(a=d[s],i=s,o=u)}}r[o].apps.splice(i,1),r[n].apps.push(a),this.setState({groups:r})}}},{key:"resetContainer",value:function(e){this.setState({layout:e})}},{key:"createGroupItem",value:function(e,t,r,n,i,o){return d.default.createElement(_.default,(0,a.default)({key:e,id:e,groupname:t,type:r,index:n,length:i},this.state,{cards:o,layout:this.state.layout,defaultLayout:this.state.defaultLayout,currEditID:this.state.currEditID,resetContainer:this.resetContainer.bind(this),deleteCard:this.deleteCard.bind(this),dropCardToGroupItem:this.dropCardToGroupItem.bind(this),moveCardInGroupItem:this.moveCardInGroupItem.bind(this),onCheckboxChange:this.onCheckboxChange.bind(this),onDrop:this.onDrop.bind(this),addGroupItem:this.addGroupItem.bind(this),moveGroupItem:this.moveGroupItem.bind(this),changeGroupName:this.changeGroupName.bind(this),cancelGroupName:this.cancelGroupName.bind(this),editGroupItemName:this.editGroupItemName.bind(this),deleteGroupItem:this.deleteGroupItem.bind(this),upGroupItem:this.upGroupItem.bind(this),downGroupItem:this.downGroupItem.bind(this)}))}},{key:"initGroupItem",value:function(e){var t=this,r=[];return h.default.forEach(e,function(a,n){r.push(t.createGroupItem(a.pk_app_group,a.groupname,a.type,n,e.length,a.apps))}),r}},{key:"deleteSelectedCardArr",value:function(){var e=this.state,t=e.selectCardIDList,r=e.groups;h.default.forEach(r,function(e,r){h.default.remove(e.apps,function(e){return-1!==h.default.indexOf(t,e.pk_appregister)})}),t=[],this.setState({selectCardIDList:t,groups:r})}},{key:"onOkMoveDialog",value:function(e){var t=this.state,r=t.groups,a=t.selectCardIDList,n=[],i=void 0;h.default.forEach(r,function(t,r){t.pk_app_group===e&&(i=r);var o=h.default.remove(t.apps,function(e){return-1!==h.default.indexOf(a,e.pk_appregister)});n=h.default.concat(n,o)}),r[i].apps=h.default.concat(r[i].apps,n),a=[],this.setState({groups:r,selectCardIDList:a})}},{key:"saveGroupItemAndCard",value:function(){var e=[];h.default.forEach(this.state.groups,function(t,r){var a={groupname:t.groupname,apps:[],position:r};-1===t.pk_app_group.indexOf("newGroupItem")&&(a.pk_app_group=t.pk_app_group),h.default.forEach(t.apps,function(e){a.apps.push({pk_appregister:e.pk_appregister,gridx:e.gridx,gridy:e.gridy})}),e.push(a)});var t={cuserid:"0001Z5100000000396E0",data:e};(0,g.default)({url:"/nccloud/platform/appregister/setapp.do",data:t,success:function(e){var t=e.data;t.data,t.success}})}},{key:"render",value:function(){var e=this.state,t=e.groups;e.apps;return d.default.createElement(s.default,null,d.default.createElement(w,{style:{height:"48px"}}),d.default.createElement("div",{className:"bread-crumb",style:{height:"20px"}},"面包屑"),d.default.createElement(s.default,null,d.default.createElement(C.default,{contentHeight:"calc(100vh - 116px)"}),d.default.createElement(I,{style:{height:"calc(100vh - 116px)"}},d.default.createElement("div",{className:"nc-workbench-home-container"},this.initGroupItem(t)))),d.default.createElement(x.default,(0,a.default)({},this.state,{saveGroupItemAndCard:this.saveGroupItemAndCard.bind(this),onOkMoveDialog:this.onOkMoveDialog.bind(this),deleteSelectedCardArr:this.deleteSelectedCardArr.bind(this)})))}}]),t}(c.Component);t.default=(0,v.DragDropContext)(m.default)((0,p.connect)(function(e){return{formData:e.formData,proData:e.proData}},{changeIntlData:f.changeIntlData,saveImg:f.saveImg,clearData:f.clearData})(N))},306:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clearData=void 0;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(136));t.clearData=function(){return{type:a.CLEARDATA}}},367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.layoutCheck=t.getFirstCollison=t.collision=void 0;var a,n=r(2),i=(a=n)&&a.__esModule?a:{default:a};var o=t.collision=function(e,t){return e.gridx===t.gridx&&e.gridy===t.gridy&&e.width===t.width&&e.height===t.height||!(e.gridx+e.width<=t.gridx)&&(!(e.gridx>=t.gridx+t.width)&&(!(e.gridy+e.height<=t.gridy)&&!(e.gridy>=t.gridy+t.height)))};t.getFirstCollison=function(e,t){for(var r=0,a=e.length;r<a;r++)if(o(e[r],t))return e[r];return null},t.layoutCheck=function e(t,r,a,n){for(var u=[],l=[],s=t.map(function(e,t){if(e.pk_appregister!==a){if(o(e,r)){u.push(e.pk_appregister);var s=e.gridy+1;r.gridy>e.gridy&&r.gridy<e.gridy+e.height&&(s=e.gridy);var c=(0,i.default)({},e,{gridy:s});return l.push(c),c}}else if(n===a)return(0,i.default)({},e,r);return e}),c=l.length,d=0;d<c;d++)s=e(s,l[d],u[d],n);return s}},483:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(286)),n=f(r(289)),i=f(r(37)),o=f(r(5)),u=f(r(10)),l=f(r(4)),s=f(r(6));r(330),r(292);var c=r(1),d=f(c),p=(f(r(0)),r(299));r(7);function f(e){return e&&e.__esModule?e:{default:e}}var h={hover:function(e,t,r){},drop:function(e,t,r){if(_.isNull(t.getDropResult())){t.getItem().type}}};var g=function(e){function t(e){return(0,o.default)(this,t),(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e))}return(0,s.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.isOver&&e.isOver,this.props.isOver&&e.isOver}},{key:"calGridItemPosition",value:function(e,t){var r=this.props,a=r.margin,n=r.rowHeight,i=r.calWidth;return a||(a=[0,0]),{x:Math.round(e*i+a[0]*(e+1)),y:Math.round(t*n+a[1]*(t+1))}}},{key:"calWHtoPx",value:function(e,t){var r=this.props,a=r.margin,n=r.calWidth,i=r.rowHeight;return{wPx:Math.round(e*n+(e-1)*a[0]),hPx:Math.round(t*i+(t-1)*a[1])}}},{key:"onCheckboxChange",value:function(e,t){this.props.onCheckboxChange(e.target.checked,t)}},{key:"isChecked",value:function(e){return-1!==_.indexOf(this.props.selectCardIDList,e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.connectDragSource,i=t.connectDropTarget,o=t.isDragging,u=t.isOver,l=this.props,s=l.id,c=l.name,p=l.gridx,f=l.gridy,h=l.width,g=l.height,m=(this.props.deleteCard,this.calGridItemPosition(p,f)),v=m.x,y=m.y,k=this.calWHtoPx(h,g),b=k.wPx,C=k.hPx;return o&&this.props.dragCardID===s?null:r(i(d.default.createElement("div",{className:"card",style:{width:b,height:C,background:u?"#ccc":"#fff",position:"absolute",border:"1px solid #f1f1f1","border-radius":"3px",transform:"translate("+v+"px, "+y+"px)"}},d.default.createElement("div",{style:{"padding-left":"10px"}},c),d.default.createElement("div",null),d.default.createElement("div",{className:"card-footer"},d.default.createElement(n.default,{checked:this.isChecked(s),onChange:function(t){e.onCheckboxChange(t,s)}}),d.default.createElement(a.default,{type:"delete",className:"card-delete",onClick:function(){e.props.deleteCard(s)}})))))}}]),t}(c.Component);t.default=(0,p.DropTarget)("item",h,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})((0,p.DragSource)("item",{beginDrag:function(e,t,r){return{id:e.id,type:e.type}},endDrag:function(e,t,r){e.dragCardID=-1},isDragging:function(e,t){return e.dragCardID=t.getItem().id}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(g))},484:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=y(r(288)),n=y(r(286)),i=y(r(291)),o=y(r(2)),u=y(r(37)),l=y(r(5)),s=y(r(10)),c=y(r(4)),d=y(r(6));r(133),r(330),r(131);var p=r(1),f=y(p),h=(y(r(0)),r(7)),g=r(299),m=y(r(483)),v=y(r(294));function y(e){return e&&e.__esModule?e:{default:e}}var k={beginDrag:function(e,t,r){return console.log(e),{id:e.id,index:e.index,type:e.type}},canDrag:function(e,t){return""===e.currEditID}},b={hover:function(e,t,r){var a=t.getItem();if("group"===a.type){var n=t.getItem().index,i=e.index;if(n===i)return;var o=(0,h.findDOMNode)(r).getBoundingClientRect(),u=(o.bottom-o.top)/2,l=t.getClientOffset().y-o.top;if(n<i&&l<u)return;if(n>i&&l>u)return;e.moveGroupItem(n,i),t.getItem().index=i}else{var s=e,c=t.getClientOffset(),d=c.x,p=c.y,f=(0,h.findDOMNode)(r).getBoundingClientRect(),g=f.x,m=f.y,y=a;if(!0===a.isNewCard){var k=v.default.cloneDeep(a);k.id=k.id+"_"+s.id,y=k}e.moveCardInGroupItem(y,s,d-g,p-m)}},drop:function(e,t,r){if(v.default.isNull(t.getDropResult())){var a=t.getItem(),n=e;"group"===a.type?e.onDrop(a,n):console.log("card in dropGroup")}}};var C=function(e){function t(e){(0,l.default)(this,t);var r=(0,c.default)(this,(t.__proto__||(0,u.default)(t)).call(this,e));return r.getGroupName=function(e){var t=e.target.value;r.state.groupName=t},r.state={forbidDrag:!1,groupName:e.groupname},r}return(0,d.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){!this.props.isOver&&e.isOver&&console.log("groupItem enter"),this.props.isOver&&!e.isOver&&console.log("groupItem leave")}},{key:"createCards",value:function(e){var t=this,r=[];return v.default.forEach(e,function(e){r.push(f.default.createElement(m.default,(0,o.default)({dragCardID:-1,type:e.apptype},e,{id:e.pk_appregister},t.props.layout,{key:e.pk_appregister,deleteCard:t.props.deleteCard,forbidDrag:t.state.forbidDrag,onCheckboxChange:t.props.onCheckboxChange,selectCardIDList:t.props.selectCardIDList})))}),r}},{key:"getContainerMaxHeight",value:function(e){var t=v.default.chain(e).sortBy(["gridx","gridy"]).groupBy("gridx").value(),r=[];v.default.forEach(t,function(e){var t=e[e.length-1];r.push(t.gridy+t.height)});var a=v.default.max(r);return a*this.props.layout.rowHeight+(a-1)*this.props.layout.margin[1]+2*this.props.layout.margin[1]}},{key:"calColWidth",value:function(){var e=this.props.layout,t=e.containerWidth,r=e.col,a=e.containerPadding,n=e.margin;return n?(t-2*a[0]-n[0]*(r+1))/r:(t-2*a[0]-0*(r+1))/r}},{key:"componentDidMount",value:function(){var e=this.props.layout,t=document.querySelector("#card-container").clientWidth;this.props.layout.containerWidth=t;var r=this.calColWidth();e.calWidth=e.rowHeight=r,e.containerWidth=t,this.props.resetContainer(e)}},{key:"render",value:function(){var e=this,t=this.props,r=t.isDragging,o=t.connectDragSource,u=t.connectDropTarget,l=t.isOver,s=t.groupname,c=t.id,d=t.index,p=t.length,h=t.cards,g=t.currEditID,m=t.defaultLayout,v=this.getContainerMaxHeight(h),y=r?0:1,k=void 0;return k=g===c?f.default.createElement("div",{className:"group-item-title-container-no-edit"},f.default.createElement("div",{class:"title-left"},f.default.createElement(i.default,{size:"small",placeholder:"占位符",defaultValue:s,onPressEnter:function(){e.props.changeGroupName(c,e.state.groupName)},onChange:this.getGroupName.bind(this)}),f.default.createElement(n.default,{type:"check-square-o",className:"group-item-icon",title:"占位符",onClick:function(){e.props.changeGroupName(c,e.state.groupName)}}),f.default.createElement(n.default,{type:"close-square-o",className:"group-item-icon",title:"占位符",onClick:function(){e.props.cancelGroupName()}}))):f.default.createElement("div",{className:"group-item-title-container-no-edit"},f.default.createElement("div",{class:"title-left"},f.default.createElement("span",null,s)),f.default.createElement("div",{class:"title-right"},f.default.createElement("div",{className:"group-item-title-edit"},f.default.createElement(n.default,{type:"edit",title:"占位符",className:"group-item-icon",onClick:function(){e.props.editGroupItemName(c)}})),f.default.createElement("div",{className:0===d?"group-item-title-not-edit":"group-item-title-edit"},f.default.createElement(n.default,{type:"up-square-o",title:"占位符",className:"group-item-icon",onClick:function(){e.props.upGroupItem(c)}})),f.default.createElement("div",{className:d===p-1?"group-item-title-not-edit":"group-item-title-edit"},f.default.createElement(n.default,{type:"down-square-o",title:"占位符",className:"group-item-icon",onClick:function(){e.props.downGroupItem(c)}})),f.default.createElement("div",{className:"group-item-title-edit"},f.default.createElement(n.default,{type:"close-square-o",title:"占位符",className:"group-item-icon",onClick:function(){e.props.deleteGroupItem(c)}})))),o(u(f.default.createElement("div",{className:"group-item",style:{opacity:y}},f.default.createElement("div",{className:"group-item-container",style:{background:l?"rgb(172, 175, 175)":"#ccc"}},k,f.default.createElement("section",{id:"card-container",style:{height:v>m.containerHeight?v:m.containerHeight}},this.createCards(this.props.cards))),f.default.createElement("div",null,f.default.createElement(a.default,{className:"group-item-add",onClick:function(){e.props.addGroupItem(c)}}," + 添加分组")))))}}]),t}(p.Component);t.default=(0,g.DropTarget)("item",b,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})((0,g.DragSource)("item",k,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(C))},490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=h(r(408)),n=h(r(288)),i=h(r(37)),o=h(r(5)),u=h(r(10)),l=h(r(4)),s=h(r(6)),c=h(r(318));r(489),r(133),r(365);var d=r(1),p=h(d),f=h(r(294));h(r(132));function h(e){return e&&e.__esModule?e:{default:e}}var g=c.default.Group,m=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.getMoveCardButton=function(e,t){var a=r.props.selectCardIDList;return p.default.createElement(n.default,{disabled:0===a.length,onClick:function(){t(!0)}},e)},r.state={modalVisible:!1,selectedValue:0},r}return(0,s.default)(t,e),(0,u.default)(t,[{key:"getGroupItemNameRadio",value:function(e){var t=[];return f.default.forEach(e,function(e,r){t.push(p.default.createElement(c.default,{className:"modal-radio",key:e.pk_app_group,value:e.pk_app_group},e.groupname))}),p.default.createElement(g,{className:"modal-radio-group",value:this.state.selectedValue,onChange:this.onChangeRadio.bind(this)},t)}},{key:"setModalVisible",value:function(e){this.setState({modalVisible:e})}},{key:"onChangeRadio",value:function(e){this.setState({selectedValue:e.target.value})}},{key:"onOkMoveDialog",value:function(e){0!==this.state.selectedValue&&(this.setModalVisible(e),this.props.onOkMoveDialog(this.state.selectedValue))}},{key:"saveGroupItemAndCard",value:function(){this.props.saveGroupItemAndCard()}},{key:"cancleSave",value:function(){location.reload()}},{key:"render",value:function(){var e=this,t=this.props,r=t.groups,i=(t.moveModal,t.selectCardIDList,this.getGroupItemNameRadio(r));return p.default.createElement("div",{className:"nc-workbench-home-footer"},p.default.createElement("div",{className:"footer-left"},this.getMoveCardButton("删除",this.props.deleteSelectedCardArr),this.getMoveCardButton("移动",this.setModalVisible.bind(this))),p.default.createElement("div",{className:"footer-right"},p.default.createElement(n.default,{className:"right-button",type:"primary",onClick:this.saveGroupItemAndCard.bind(this)},"保存"),p.default.createElement(n.default,{className:"right-button",onClick:this.cancleSave.bind(this)},"取消")),p.default.createElement(a.default,{title:"移动到",wrapClassName:"vertical-center-modal",visible:this.state.modalVisible,onOk:function(){return e.onOkMoveDialog(!1)},onCancel:function(){return e.setModalVisible(!1)},footer:[p.default.createElement(n.default,{key:"submit",type:"primary",onClick:function(){return e.onOkMoveDialog(!1)}},"确定"),p.default.createElement(n.default,{key:"back",onClick:function(){return e.setModalVisible(!1)}},"取消")]},i))}}]),t}(d.Component);t.default=m},491:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=p(r(289)),n=p(r(37)),i=p(r(5)),o=p(r(10)),u=p(r(4)),l=p(r(6));r(292);var s=r(1),c=p(s),d=(p(r(0)),r(299));r(7);function p(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){return(0,i.default)(this,t),(0,u.default)(this,(t.__proto__||(0,n.default)(t)).call(this,e))}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.connectDragSource,t=this.props,r=(t.id,t.name);return e(c.default.createElement("div",{className:"list-item-content"},c.default.createElement("div",{style:{"padding-left":"10px"}},r),c.default.createElement("div",null),c.default.createElement("div",{className:"card-footer"},c.default.createElement(a.default,null))))}}]),t}(s.Component);t.default=(0,d.DragSource)("item",{beginDrag:function(e,t,r){return{id:e.id,isNewCard:!0}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(f)},504:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=v(r(405)),n=v(r(286)),i=v(r(37)),o=v(r(5)),u=v(r(10)),l=v(r(4)),s=v(r(6)),c=v(r(289)),d=v(r(291)),p=v(r(317));r(496),r(330),r(292),r(131),r(334);var f=r(1),h=v(f),g=(v(r(294)),v(r(491))),m=v(r(132));function v(e){return e&&e.__esModule?e:{default:e}}var y=p.default.Sider;d.default.Search,c.default.Group;var k=function(e){function t(e){(0,o.default)(this,t);var r=(0,l.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return r.state={showSearch:!1,searchValue:"",selectGroupArr:[]},r}return(0,s.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,m.default)({url:"/nccloud/platform/appregister/queryapplazy.do",success:function(t){if(t){var r=t.data,a=r.data,n=r.success;n&&a&&a.length>0&&e.setState({domainArr:a})}}})}},{key:"onInputChange",value:function(e){var t=e.target.value;this.state.searchValue=t}},{key:"onInputSearch",value:function(){console.log(this.state.searchValue,"搜索开始")}},{key:"onCascaderChange",value:function(e){var t=this,r=e;if(1!==r.length){var a=r[1];(0,m.default)({url:"/nccloud/platform/appregister/queryapplazy.do",data:{own_module:a},success:function(e){var r=e.data,a=r.data,n=r.success;n&&a&&a.length>0&&(console.log(a),t.setState({selectGroupArr:a}))}}),console.log(e,"选择",this.state)}}},{key:"switchSearch",value:function(){var e=this.state.showSearch;this.setState({showSearch:!e})}},{key:"getSearchDom",value:function(){var e=this;return this.state.showSearch?h.default.createElement("div",{className:"sider-search"},h.default.createElement(d.default,{placeholder:"请输入应用名称",style:{width:"213px"},onPressEnter:this.onInputSearch.bind(this),onChange:this.onInputChange.bind(this),addonAfter:h.default.createElement(n.default,{type:"search",className:"search-input-icon",onClick:this.onInputSearch.bind(this)})}),h.default.createElement("span",{className:"switch-search-cancel",onClick:this.switchSearch.bind(this)},"取消")):h.default.createElement("div",{className:"sider-search"},h.default.createElement(a.default,{className:"search-cascader",style:{width:"213px"},options:this.state.domainArr,onChange:function(t){e.onCascaderChange(t)},placeholder:"领域-模块"}),h.default.createElement("span",{className:"switch-search",onClick:this.switchSearch.bind(this)},h.default.createElement(n.default,{type:"search"})))}},{key:"getResultDom",value:function(){return this.state.selectGroupArr.map(function(e,t){return h.default.createElement("div",{className:"result-group-list"},h.default.createElement("h4",{className:"result-header"},h.default.createElement(c.default,null,e.label)),h.default.createElement("div",{className:"result-app-list"},e.children.map(function(e,t){return h.default.createElement("div",{className:"app-col"},h.default.createElement("div",{className:"list-item"},h.default.createElement(g.default,{id:e.value,key:e.value,name:e.label,type:"newcard"})))})))})}},{key:"render",value:function(){var e=this.props.contentHeight;return h.default.createElement(y,{className:"nc-workbench-home-sider",breakpoint:"lg",collapsedWidth:"200",width:"300",style:{height:e}},h.default.createElement("div",{className:"sider-content"},this.getSearchDom(),h.default.createElement("div",{className:"add-item"},h.default.createElement("span",null),h.default.createElement("span",{className:"add"},"添加")),h.default.createElement("div",{className:"sider-result"},this.getResultDom())))}}]),t}(f.Component);t.default=k},505:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkInContainer=function(e,t,r,a){return e+a>r-1&&(e=r-a),e<0&&(e=0),t<0&&(t=0),{GridX:e,GridY:t}}},506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compactLayout=void 0;var a,n=r(2),i=(a=n)&&a.__esModule?a:{default:a},o=r(367);var u=function(e,t){var r=(0,i.default)({},t);if(0===e.length)return(0,i.default)({},r,{gridy:0});for(;;){var a=(0,o.getFirstCollison)(e,r);if(a)return r.gridy=a.gridy+a.height,r;if(r.gridy--,r.gridy<0)return(0,i.default)({},r,{gridy:0})}};t.compactLayout=function(e,t){for(var r=function(e){return[].concat(e).sort(function(e,t){return e.gridy>t.gridy||e.gridy===t.gridy&&e.gridx>t.gridx?1:e.gridy===t.gridy&&e.gridx===t.gridx?0:-1})}(e),a=[],n=Array(e.length),i=0,o=r.length;i<o;i++){var l=u(a,r[i]);a.push(l),n[i]=l}return n}},518:function(e,t,r){(e.exports=r(17)(!1)).push([e.i,".nc-workbench-home-sider{background:#fff;overflow:auto}.nc-workbench-home-sider .sider-content{margin:10px 5px 15px;padding:10px 8px 0;border:1px solid #ccc}.nc-workbench-home-sider .sider-content .sider-search{display:flex;align-items:center;justify-content:space-between}.nc-workbench-home-sider .sider-content .sider-search .search-input-icon{cursor:pointer}.nc-workbench-home-sider .sider-content .sider-search .switch-search{padding:0 11px;margin-right:0;font-size:20px;cursor:pointer}.nc-workbench-home-sider .sider-content .sider-search .switch-search-cancel{cursor:pointer}.nc-workbench-home-sider .sider-content .add-item{margin-top:10px;display:flex;justify-content:space-between}.nc-workbench-home-sider .sider-content .add-item .add{cursor:pointer}.nc-workbench-home-sider .sider-content .sider-result .result-group-list{border-bottom:1px solid #e9e9e9}.nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list{width:100%;display:flex;flex-wrap:wrap}.nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col{width:50%}.nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item{padding-left:5px;margin-bottom:8px}.nc-workbench-home-sider .sider-content .sider-result .result-group-list .result-app-list .app-col .list-item .list-item-content{height:130px;border:1px solid #ccc}.nc-workbench-home-container{background:#e6e9e9;padding:50px 23px 48px}.nc-workbench-home-container .group-item{width:100%;margin-bottom:10px;cursor:move;position:relative}.nc-workbench-home-container .group-item .group-item-container{padding:10px 0 0 20px}.nc-workbench-home-container .group-item .group-item-container .group-item-icon{font-size:20px}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit{display:flex;justify-content:space-between}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit i{cursor:pointer}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit .title-left{display:flex;align-items:center}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit .title-left i{margin-left:7px}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit .title-right{display:flex}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-edit{margin-right:23px}.nc-workbench-home-container .group-item .group-item-container .group-item-title-container-no-edit .title-right .group-item-title-not-edit{color:#e6e9e9;margin-right:23px}.nc-workbench-home-container .group-item .group-item-container #card-container .card{transition:all .2s ease-out}.nc-workbench-home-container .group-item .group-item-container #card-container .card .card-footer{display:flex;justify-content:space-between;position:absolute;height:35px;width:100%;padding:7px 8px;bottom:0;background:#f2f2f2}.nc-workbench-home-container .group-item .group-item-container #card-container .card .card-footer .card-delete{font-size:19px;line-height:21px;cursor:pointer}.nc-workbench-home-container .group-item .group-item-add{width:100%;border:1px solid rgba(78,89,104,.25)}.nc-workbench-home-footer{width:100%;height:48px;position:fixed;bottom:0;background:rgba(43,55,66,.6);display:flex;justify-content:space-between;align-items:center}.nc-workbench-home-footer button{width:78px;margin:0 8px}.nc-workbench-home-footer .footer-left{display:flex;margin-left:100px}.nc-workbench-home-footer .footer-right{display:flex;margin-right:100px}.vertical-center-modal{display:flex;align-items:center;justify-content:center}.vertical-center-modal .ant-modal{top:0}.modal-radio{display:block!important;height:30px!important;line-height:30px!important}",""])},519:function(e,t,r){var a=r(518);"string"==typeof a&&(a=[[e.i,a,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(23)(a,n);a.locals&&(e.exports=a.locals)}}]);