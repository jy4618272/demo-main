(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{197:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _getPrototypeOf = __webpack_require__(26);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(25);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(24);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(23);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(22);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactRouterDom = __webpack_require__(66);\n\nvar _reactRedux = __webpack_require__(40);\n\nvar _propTypes = __webpack_require__(0);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _action = __webpack_require__(232);\n\nvar _masonryLayout = __webpack_require__(231);\n\nvar _masonryLayout2 = _interopRequireDefault(_masonryLayout);\n\nvar _reactScroll = __webpack_require__(208);\n\nvar _PageLayout = __webpack_require__(219);\n\nvar _PageLayout2 = _interopRequireDefault(_PageLayout);\n\nvar _TabsLink = __webpack_require__(216);\n\nvar _TabsLink2 = _interopRequireDefault(_TabsLink);\n\n__webpack_require__(213);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar UNIT = 150;\n/**\r\n * 工作桌面 首页 页面\r\n * 各个此贴应用及工作台中的小部件 通过 js 片段进行加载渲染\r\n */\n\n// 工作桌面单页通用布局\n\nvar Home = function (_Component) {\n\t(0, _inherits3.default)(Home, _Component);\n\n\tfunction Home(props) {\n\t\t(0, _classCallCheck3.default)(this, Home);\n\n\t\tvar _this = (0, _possibleConstructorReturn3.default)(this, (Home.__proto__ || (0, _getPrototypeOf2.default)(Home)).call(this, props));\n\n\t\t_this.createScript = function () {\n\t\t\tvar paths = _this.state.paths;\n\n\t\t\tvar scripts = document.getElementsByTagName('script');\n\t\t\t// 将 HTMLCollection 类数组对象转换成真正的数组\n\t\t\tvar scriptsArray = Array.prototype.slice.call(scripts, 0);\n\t\t\tvar bodyDOM = document.getElementsByTagName('body')[0];\n\t\t\t// 将所有的 script 标签 src 值数组\n\t\t\tscriptsArray = scriptsArray.map(function (scriptItem) {\n\t\t\t\t// script 标签上真正书写的 src 字符串\n\t\t\t\tif (scriptItem.attributes.src) {\n\t\t\t\t\treturn scriptItem.attributes.src.value;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// paths 后台返回的当前用户首页所有小部件相关内容\n\t\t\tpaths.map(function (item, index) {\n\t\t\t\tvar path = item.path,\n\t\t\t\t    apptype = item.apptype;\n\n\t\t\t\tif (apptype === '2') {\n\t\t\t\t\tvar scriptPath = path;\n\t\t\t\t\t// 查找后台提供的小部件 js 路径是否已经加载到 dom 中\n\t\t\t\t\tvar flag = scriptsArray.find(function (scriptsSrc) {\n\t\t\t\t\t\treturn scriptsSrc === scriptPath;\n\t\t\t\t\t});\n\t\t\t\t\t// 如果没有，进行 script 标签创建及加载指定 js 文件\n\t\t\t\t\tif (typeof flag === 'undefined') {\n\t\t\t\t\t\tvar script = document.createElement('script');\n\t\t\t\t\t\tscript.type = 'text/javascript';\n\t\t\t\t\t\tscript.src = path;\n\t\t\t\t\t\tbodyDOM.appendChild(script);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfor (var scriptIndex = 0; scriptIndex < scripts.length; scriptIndex++) {\n\t\t\t\t\t\t\tvar element = scripts[scriptIndex];\n\t\t\t\t\t\t\tif (element.attributes.src && element.attributes.src.value === flag) {\n\t\t\t\t\t\t\t\tbodyDOM.removeChild(element);\n\t\t\t\t\t\t\t\tvar _script = document.createElement('script');\n\t\t\t\t\t\t\t\t_script.type = 'text/javascript';\n\t\t\t\t\t\t\t\t_script.src = flag;\n\t\t\t\t\t\t\t\tbodyDOM.appendChild(_script);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t_this.createApp = function (appOption, domWidth, domHeight) {\n\t\t\tvar img_src = appOption.img_src,\n\t\t\t    name = appOption.name,\n\t\t\t    mountid = appOption.mountid,\n\t\t\t    target_path = appOption.target_path;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tclassName: 'grid-item',\n\t\t\t\t\tid: mountid,\n\t\t\t\t\tstyle: { width: domWidth, height: domHeight },\n\t\t\t\t\tonClick: function onClick() {\n\t\t\t\t\t\twindow.openNew(target_path);\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'app-item' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'span',\n\t\t\t\t\t\t{ className: 'title' },\n\t\t\t\t\t\tname\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t'div',\n\t\t\t\t\t\t{ className: 'app-content' },\n\t\t\t\t\t\t_react2.default.createElement('img', { className: 'icon', src: img_src, alt: name })\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\n\t\t_this.createWidgetMountPoint = function (widgets) {\n\t\t\treturn widgets.map(function (item, index) {\n\t\t\t\tif (item) {\n\t\t\t\t\tvar apptype = item.apptype,\n\t\t\t\t\t    width = item.width,\n\t\t\t\t\t    height = item.height;\n\n\t\t\t\t\tvar domWidth = Number(width) * UNIT;\n\t\t\t\t\tvar domHeight = Number(height) * UNIT;\n\t\t\t\t\tif (apptype === '1') {\n\t\t\t\t\t\treturn _this.createApp(item, domWidth, domHeight);\n\t\t\t\t\t} else if (apptype === '2') {\n\t\t\t\t\t\treturn _react2.default.createElement('div', { className: 'grid-item', style: { width: domWidth, height: domHeight }, id: item.mountid });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\n\t\t_this.state = {\n\t\t\tpaths: []\n\t\t};\n\t\treturn _this;\n\t}\n\n\t(0, _createClass3.default)(Home, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar paths = this.state.paths;\n\n\t\t\taxios({\n\t\t\t\tmethod: 'POST',\n\t\t\t\turl: '/nccloud/platform/appregister/query.do'\n\t\t\t}).then(function (res) {\n\t\t\t\tif (res) {\n\t\t\t\t\tvar _res$data = res.data,\n\t\t\t\t\t    data = _res$data.data,\n\t\t\t\t\t    success = _res$data.success;\n\n\t\t\t\t\tif (success) {\n\t\t\t\t\t\t_this2.setState({ paths: data }, _this2.createScript);\n\t\t\t\t\t\tvar grid = document.querySelectorAll('.grid');\n\t\t\t\t\t\tfor (var index = 0; index < grid.length; index++) {\n\t\t\t\t\t\t\tvar element = grid[index];\n\t\t\t\t\t\t\tnew _masonryLayout2.default(element, {\n\t\t\t\t\t\t\t\titemSelector: '.grid-item',\n\t\t\t\t\t\t\t\tcolumnWidth: 170,\n\t\t\t\t\t\t\t\tgutter: 10\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\r\n   * 动态创建小应用\r\n   * @param {Object} appOption // 小部件类型 \r\n   */\n\n\n\t\t/**\r\n   * 动态创建小部件挂载容器\r\n   * @param {Object} widgets // 小部件类型 \r\n   */\n\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar paths = this.state.paths;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'nc-workbench-home-page' },\n\t\t\t\t_react2.default.createElement(_TabsLink2.default, null),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'nc-workbench-home-container' },\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactScroll.Element,\n\t\t\t\t\t\t{ name: 'no1', className: 'n-col padding-left-70 padding-right-60' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'title' },\n\t\t\t\t\t\t\t'\\u5206\\u7EC4\\u4E00'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ 'class': 'grid' },\n\t\t\t\t\t\t\tpaths.length > 0 ? this.createWidgetMountPoint(paths.map(function (item) {\n\t\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t\t})) : _react2.default.createElement(\n\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tclassName: 'grid-item app-item widget-container',\n\t\t\t\t\t\t\t\t\tstyle: { width: UNIT + 'px', height: UNIT + 'px' }\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t\t\t{ className: 'app-item' },\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t\t{ className: 'icon' },\n\t\t\t\t\t\t\t\t\t\t'loa'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t\t\t\t'span',\n\t\t\t\t\t\t\t\t\t\t{ className: 'title' },\n\t\t\t\t\t\t\t\t\t\t'loading'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tcreateItem()\n\t\t\t\t\t\t)\n\t\t\t\t\t),\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactScroll.Element,\n\t\t\t\t\t\t{ name: 'no2', className: 'n-col padding-left-70 padding-right-60' },\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'title' },\n\t\t\t\t\t\t\t'\\u5206\\u7EC4\\u4E8C'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t\t'div',\n\t\t\t\t\t\t\t{ className: 'grid' },\n\t\t\t\t\t\t\tcreateItem()\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\treturn Home;\n}(_react.Component);\n\nvar createItem = function createItem() {\n\tvar itemDoms = [];\n\tfor (var index = 0; index < 30; index++) {\n\t\titemDoms.push(_react2.default.createElement(\n\t\t\t'div',\n\t\t\t{ style: { width: UNIT + 'px', height: UNIT + 'px' }, className: 'grid-item widget-container ' },\n\t\t\t_react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: 'app-item' },\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ className: 'icon' },\n\t\t\t\t\tindex\n\t\t\t\t),\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'span',\n\t\t\t\t\t{ className: 'title' },\n\t\t\t\t\t'\\u5E94\\u7528',\n\t\t\t\t\tindex\n\t\t\t\t)\n\t\t\t)\n\t\t));\n\t}\n\treturn itemDoms;\n};\nvar scrollToAnchor = function scrollToAnchor(anchorName) {\n\tif (anchorName) {\n\t\tvar anchorElement = document.getElementById(anchorName);\n\t\tif (anchorElement) {\n\t\t\t// anchorElement.scrollIntoView(true);\n\t\t\tanchorElement.scrollIntoView({\n\t\t\t\tbehavior: 'smooth'\n\t\t\t});\n\t\t}\n\t}\n};\n\nHome.PropTypes = {\n\tformData: _propTypes2.default.object.isRequired,\n\tchangeIntlData: _propTypes2.default.func.isRequired,\n\tsaveImg: _propTypes2.default.func.isRequired,\n\tclearData: _propTypes2.default.func.isRequired\n};\nexports.default = (0, _reactRedux.connect)(function (state) {\n\treturn {\n\t\tformData: state.formData,\n\t\tproData: state.proData\n\t};\n}, {\n\tchangeIntlData: _action.changeIntlData,\n\tsaveImg: _action.saveImg,\n\tclearData: _action.clearData\n})(Home);\n\n//# sourceURL=webpack:///./pages/home/index.js?")},213:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./pages/home/index.less?")},215:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./components/TabsLink/index.less?")},216:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _getPrototypeOf = __webpack_require__(26);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(25);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(24);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(23);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(22);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactScroll = __webpack_require__(208);\n\n__webpack_require__(215);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar tabs = [{\n\tanchor: 'no1',\n\ttext: '分组一'\n}, {\n\tanchor: 'no2',\n\ttext: '分组二'\n\t// {\n\t// \tanchor: 'no3',\n\t// \ttext: '分组三'\n\t// },\n\t// {\n\t// \tanchor: 'no4',\n\t// \ttext: '分组四'\n\t// }\n}];\n\nvar TabsLink = function (_Component) {\n\t(0, _inherits3.default)(TabsLink, _Component);\n\n\tfunction TabsLink(props, context) {\n\t\t(0, _classCallCheck3.default)(this, TabsLink);\n\n\t\tvar _this = (0, _possibleConstructorReturn3.default)(this, (TabsLink.__proto__ || (0, _getPrototypeOf2.default)(TabsLink)).call(this, props, context));\n\n\t\t_this.createTabsLink = function () {\n\t\t\treturn tabs.map(function (item, index) {\n\t\t\t\tvar anchor = item.anchor,\n\t\t\t\t    text = item.text;\n\n\t\t\t\treturn _react2.default.createElement(\n\t\t\t\t\t'li',\n\t\t\t\t\tnull,\n\t\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t\t_reactScroll.Link,\n\t\t\t\t\t\t{ activeClass: 'active', to: anchor, offset: -40, spy: true, smooth: true, duration: 500 },\n\t\t\t\t\t\ttext\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t};\n\n\t\treturn _this;\n\t}\n\n\t(0, _createClass3.default)(TabsLink, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'ul',\n\t\t\t\t{ className: 'n-tabs' },\n\t\t\t\tthis.createTabsLink()\n\t\t\t);\n\t\t}\n\t}]);\n\treturn TabsLink;\n}(_react.Component);\n\nexports.default = TabsLink;\n\n//# sourceURL=webpack:///./components/TabsLink/index.js?")},218:function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack:///./components/PageLayout/index.less?")},219:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _getPrototypeOf = __webpack_require__(26);\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = __webpack_require__(25);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = __webpack_require__(24);\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(23);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(22);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(0);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\n__webpack_require__(218);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * 工作桌面中页面布局组件\r\n * @param {Number} height 距离浏览器顶部的距离\r\n */\nvar PageLayout = function (_Component) {\n\t(0, _inherits3.default)(PageLayout, _Component);\n\n\tfunction PageLayout() {\n\t\t(0, _classCallCheck3.default)(this, PageLayout);\n\t\treturn (0, _possibleConstructorReturn3.default)(this, (PageLayout.__proto__ || (0, _getPrototypeOf2.default)(PageLayout)).apply(this, arguments));\n\t}\n\n\t(0, _createClass3.default)(PageLayout, [{\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar _props$height = this.props.height,\n\t\t\t    height = _props$height === undefined ? 40 : _props$height;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{\n\t\t\t\t\tclassName: 'page-scroll',\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\theight: 'calc(100vh - ' + height + 'px)'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t_react2.default.createElement(\n\t\t\t\t\t'div',\n\t\t\t\t\t{ className: 'page-layout' },\n\t\t\t\t\tthis.props.children\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}]);\n\treturn PageLayout;\n}(_react.Component);\n\nPageLayout.propTypes = {\n\t// breadcrumb: PropTypes.array,\n\tchildren: _propTypes2.default.any.isRequired\n};\n\nexports.default = PageLayout;\n\n//# sourceURL=webpack:///./components/PageLayout/index.js?")},232:function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n\tvalue: true\n});\nexports.clearData = undefined;\n\nvar _actionType = __webpack_require__(94);\n\nvar home = _interopRequireWildcard(_actionType);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// 保存图片地址\nvar clearData = exports.clearData = function clearData() {\n\treturn {\n\t\ttype: home.CLEARDATA\n\t};\n};\n\n//# sourceURL=webpack:///./store/home/action.js?')}}]);